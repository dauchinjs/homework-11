{% extends 'layout.twig' %}
{% block content %}
    <div class="container mx-auto p-4 rounded-lg shadow-lg">
        <h1 class="text-3xl font-bold mt-10">Transfer Stock</h1>
        <form action="/transfer" method="post" class="bg-white p-4 rounded shadow-md">
            <label class="block text-red-800 font-bold mb-2">
                Stock symbol:
                <input type="text" name="symbol" id="symbol" class="form-input mt-1 border rounded-lg w-full" required/>
            </label>
            <label class="block text-red-800 font-bold mb-2">
                Amount:
                <input type="text" name="amount" id="amount" class="form-input mt-1 border rounded-lg w-full" required/>
            </label>
            <label class="block text-red-800 font-bold mb-2">
                Recipient's E-mail:
                <input type="text" name="email" id="email" class="form-input mt-1 border rounded-lg w-full" required/>
            </label>
            <label class="block text-red-800 font-bold mb-2">
                Your password:
                <input type="password" name="password" id="password" class="form-input mt-1 border rounded-lg w-full"
                       required/>
            </label>
            <button type="submit"
                    class="bg-red-800 text-white py-2 px-4 rounded-full hover:bg-red-900 focus:outline-none focus:shadow-outline">
                Transfer
            </button>
        </form>
    </div>

    {% if error.noSymbolFound %}
        <div class="container mx-auto p-4 rounded-lg shadow-lg bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mt-4"
             role="alert">
            <p class="font-bold">Error</p>
            <p class="text-sm">You don't own this stock</p>
        </div>
    {% endif %}

    {% if error.noUserFound %}
        <div class="container mx-auto p-4 rounded-lg shadow-lg bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mt-4"
             role="alert">
            <p class="font-bold">Error</p>
            <p class="text-sm">Invalid e-mail</p>
        </div>
    {% endif %}

    {% if error.wrongPassword %}
        <div class="container mx-auto p-4 rounded-lg shadow-lg bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mt-4"
             role="alert">
            <p class="font-bold">Error</p>
            <p class="text-sm">Incorrect password</p>
        </div>
    {% endif %}

    {% if error.notEnoughStocks %}
        <div class="container mx-auto p-4 rounded-lg shadow-lg bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mt-4"
             role="alert">
            <p class="font-bold">Error</p>
            <p class="text-sm">Not enough stocks</p>
        </div>
    {% endif %}

    {% if error.sameUser %}
        <div class="container mx-auto p-4 rounded-lg shadow-lg bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mt-4"
             role="alert">
            <p class="font-bold">Error</p>
            <p class="text-sm">Invalid movement</p>
        </div>
    {% endif %}
    
    {% if success.transfer %}
        <div class="container mx-auto p-4 rounded-lg shadow-lg bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mt-4"
             role="alert">
            <p class="font-bold">Success</p>
            <p class="text-sm">Transfer complete</p>
        </div>
    {% endif %}
{% endblock %}
